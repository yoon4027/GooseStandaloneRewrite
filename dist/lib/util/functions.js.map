{"version":3,"sources":["../../../src/lib/util/functions.ts"],"sourcesContent":["import type { ReplaceInFileOptions } from \"#types/types\";\nimport axios from \"axios\";\nimport {\n  copyFile,\n  lstat,\n  mkdir,\n  readdir,\n  readFile,\n  rm,\n  writeFile,\n} from \"fs/promises\";\nimport { join, resolve } from \"node:path\";\n\nexport const replaceInFile = async ({\n  filePath,\n  replaceWith,\n  toReplace,\n}: ReplaceInFileOptions) => {\n  let content = await readFile(filePath, \"utf8\");\n\n  content = content.replaceAll(toReplace, replaceWith);\n\n  await writeFile(filePath, content);\n};\n\nexport const downloadFile = async (path: string, url: string) => {\n  const res = await axios.get(url, { responseType: \"blob\" });\n\n  await writeFile(path, res.data);\n};\n\nexport const renameFile = async ({\n  oldPath,\n  newPath,\n}: {\n  oldPath: string;\n  newPath: string;\n}) => {\n  await copyFile(oldPath, newPath);\n\n  await rm(oldPath, { recursive: true, force: true });\n};\n\nexport const copyDir = async ({ from, to }: { from: string; to: string }) => {\n  await mkdir(to);\n\n  for (const element of await readdir(from)) {\n    const outPath = resolve(join(to, element));\n    if ((await lstat(join(from, element))).isFile()) {\n      await copyFile(join(from, element), outPath);\n    } else {\n      await copyDir({\n        from: join(from, element),\n        to: outPath,\n      });\n    }\n  }\n};\n"],"mappings":";;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAEO,MAAM,gBAAgB,8BAAO;AAAA,EAClC;AAAA,EACA;AAAA,EACA;AAAA,MAC0B;AAC1B,MAAI,UAAU,MAAM,SAAS,UAAU,MAAM;AAE7C,YAAU,QAAQ,WAAW,WAAW,WAAW;AAEnD,QAAM,UAAU,UAAU,OAAO;AACnC,GAV6B;AAYtB,MAAM,eAAe,8BAAO,MAAc,QAAgB;AAC/D,QAAM,MAAM,MAAM,MAAM,IAAI,KAAK,EAAE,cAAc,OAAO,CAAC;AAEzD,QAAM,UAAU,MAAM,IAAI,IAAI;AAChC,GAJ4B;AAMrB,MAAM,aAAa,8BAAO;AAAA,EAC/B;AAAA,EACA;AAAA,MAII;AACJ,QAAM,SAAS,SAAS,OAAO;AAE/B,QAAM,GAAG,SAAS,EAAE,WAAW,MAAM,OAAO,KAAK,CAAC;AACpD,GAV0B;AAYnB,MAAM,UAAU,8BAAO,EAAE,MAAM,SAAuC;AAC3E,QAAM,MAAM,EAAE;AAEd,aAAW,WAAW,MAAM,QAAQ,IAAI,GAAG;AACzC,UAAM,UAAU,QAAQ,KAAK,IAAI,OAAO,CAAC;AACzC,QAAK,OAAM,MAAM,KAAK,MAAM,OAAO,CAAC,GAAG,OAAO,GAAG;AAC/C,YAAM,SAAS,KAAK,MAAM,OAAO,GAAG,OAAO;AAAA,IAC7C,OAAO;AACL,YAAM,QAAQ;AAAA,QACZ,MAAM,KAAK,MAAM,OAAO;AAAA,QACxB,IAAI;AAAA,MACN,CAAC;AAAA,IACH;AAAA,EACF;AACF,GAduB;","names":[]}